!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.NATS=e():t.NATS=e()}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=36)}([function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(0),i=n(21);function o(){i.call(this)}r(o,i),o.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}},o.prototype.once=function(t,e){var n=this,r=!1;this.on(t,(function i(){n.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}))},o.prototype.emit=function(){var t=arguments[0],e=this._listeners[t];if(e){for(var n=arguments.length,r=new Array(n-1),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<e.length;o++)e[o].apply(this,r)}},o.prototype.on=o.prototype.addListener=i.prototype.addEventListener,o.prototype.removeListener=i.prototype.removeEventListener,t.exports.EventEmitter=o},function(t,e,n){"use strict";var r=n(20);t.exports={getOrigin:function(t){if(!t)return null;var e=new r(t);if("file:"===e.protocol)return null;var n=e.port;return n||(n="https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+n},isOriginEqual:function(t,e){var n=this.getOrigin(t)===this.getOrigin(e);return n},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var n=t.split("?");return n[0]+e+(n[1]?"?"+n[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)}}},function(t,e,n){(function(t,r){var i;/*! JSON v3.3.2 | https://bestiejs.github.io/json3 | Copyright 2012-2015, Kit Cambridge, Benjamin Tan | http://kit.mit-license.org */(function(){var o=n(56),s={function:!0,object:!0},a=s[typeof e]&&e&&!e.nodeType&&e,u=s[typeof window]&&window||this,c=a&&s[typeof t]&&t&&!t.nodeType&&"object"==typeof r&&r;function h(t,e){t||(t=u.Object()),e||(e=u.Object());var n=t.Number||u.Number,r=t.String||u.String,i=t.Object||u.Object,o=t.Date||u.Date,a=t.SyntaxError||u.SyntaxError,c=t.TypeError||u.TypeError,l=t.Math||u.Math,f=t.JSON||u.JSON;"object"==typeof f&&f&&(e.stringify=f.stringify,e.parse=f.parse);var p=i.prototype,d=p.toString,m=p.hasOwnProperty;function y(t,e){try{t()}catch(t){e&&e()}}var g=new o(-0xc782b5b800cec);function v(t){if(null!=v[t])return v[t];var i;if("bug-string-char-index"==t)i="a"!="a"[0];else if("json"==t)i=v("json-stringify")&&v("date-serialization")&&v("json-parse");else if("date-serialization"==t){if(i=v("json-stringify")&&g){var s=e.stringify;y((function(){i='"-271821-04-20T00:00:00.000Z"'==s(new o(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==s(new o(864e13))&&'"-000001-01-01T00:00:00.000Z"'==s(new o(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==s(new o(-1))}))}}else{var a,u='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c="function"==typeof(s=e.stringify);c&&((a=function(){return 1}).toJSON=a,y((function(){c="0"===s(0)&&"0"===s(new n)&&'""'==s(new r)&&void 0===s(d)&&void 0===s(void 0)&&void 0===s()&&"1"===s(a)&&"[1]"==s([a])&&"[null]"==s([void 0])&&"null"==s(null)&&"[null,null,null]"==s([void 0,d,null])&&s({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==u&&"1"===s(null,a)&&"[\n 1,\n 2\n]"==s([1,2],null,1)}),(function(){c=!1}))),i=c}if("json-parse"==t){var h,l=e.parse;"function"==typeof l&&y((function(){0!==l("0")||l(!1)||(a=l(u),(h=5==a.a.length&&1===a.a[0])&&(y((function(){h=!l('"\t"')})),h&&y((function(){h=1!==l("01")})),h&&y((function(){h=1!==l("1.")}))))}),(function(){h=!1})),i=h}}return v[t]=!!i}if(y((function(){g=-109252==g.getUTCFullYear()&&0===g.getUTCMonth()&&1===g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()})),v["bug-string-char-index"]=v["date-serialization"]=v.json=v["json-stringify"]=v["json-parse"]=null,!v("json")){var b=v("bug-string-char-index"),w=function(t,e){var n,r,i,o=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)m.call(r,i)&&o++;return n=r=null,o?w=function(t,e){var n,r,i="[object Function]"==d.call(t);for(n in t)i&&"prototype"==n||!m.call(t,n)||(r="constructor"===n)||e(n);(r||m.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],w=function(t,e){var n,i,o="[object Function]"==d.call(t),a=!o&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||m;for(n in t)o&&"prototype"==n||!a.call(t,n)||e(n);for(i=r.length;n=r[--i];)a.call(t,n)&&e(n)}),w(t,e)};if(!v("json-stringify")&&!v("date-serialization")){var _={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},E=function(t,e){return("000000"+(e||0)).slice(-t)},O=function(t){var e,n,r,i,o,s,a,u,c;if(g)e=function(t){n=t.getUTCFullYear(),r=t.getUTCMonth(),i=t.getUTCDate(),s=t.getUTCHours(),a=t.getUTCMinutes(),u=t.getUTCSeconds(),c=t.getUTCMilliseconds()};else{var h=l.floor,f=[0,31,59,90,120,151,181,212,243,273,304,334],p=function(t,e){return f[e]+365*(t-1970)+h((t-1969+(e=+(e>1)))/4)-h((t-1901+e)/100)+h((t-1601+e)/400)};e=function(t){for(i=h(t/864e5),n=h(i/365.2425)+1970-1;p(n+1,0)<=i;n++);for(r=h((i-p(n,0))/30.42);p(n,r+1)<=i;r++);i=1+i-p(n,r),s=h((o=(t%864e5+864e5)%864e5)/36e5)%24,a=h(o/6e4)%60,u=h(o/1e3)%60,c=o%1e3}}return(O=function(t){return t>-1/0&&t<1/0?(e(t),t=(n<=0||n>=1e4?(n<0?"-":"+")+E(6,n<0?-n:n):E(4,n))+"-"+E(2,r+1)+"-"+E(2,i)+"T"+E(2,s)+":"+E(2,a)+":"+E(2,u)+"."+E(3,c)+"Z",n=r=i=s=a=u=c=null):t=null,t})(t)};if(v("json-stringify")&&!v("date-serialization")){function S(t){return O(this)}var x=e.stringify;e.stringify=function(t,e,n){var r=o.prototype.toJSON;o.prototype.toJSON=S;var i=x(t,e,n);return o.prototype.toJSON=r,i}}else{var T=function(t){var e=t.charCodeAt(0),n=_[e];return n||"\\u00"+E(2,e.toString(16))},C=/[\x00-\x1f\x22\x5c]/g,N=function(t){return C.lastIndex=0,'"'+(C.test(t)?t.replace(C,T):t)+'"'},A=function(t,e,n,r,i,s,a){var u,h,l,f,p,m,g,v,b;if(y((function(){u=e[t]})),"object"==typeof u&&u&&(u.getUTCFullYear&&"[object Date]"==d.call(u)&&u.toJSON===o.prototype.toJSON?u=O(u):"function"==typeof u.toJSON&&(u=u.toJSON(t))),n&&(u=n.call(e,t,u)),null==u)return void 0===u?u:"null";switch("object"==(h=typeof u)&&(l=d.call(u)),l||h){case"boolean":case"[object Boolean]":return""+u;case"number":case"[object Number]":return u>-1/0&&u<1/0?""+u:"null";case"string":case"[object String]":return N(""+u)}if("object"==typeof u){for(g=a.length;g--;)if(a[g]===u)throw c();if(a.push(u),f=[],v=s,s+=i,"[object Array]"==l){for(m=0,g=u.length;m<g;m++)p=A(m,u,n,r,i,s,a),f.push(void 0===p?"null":p);b=f.length?i?"[\n"+s+f.join(",\n"+s)+"\n"+v+"]":"["+f.join(",")+"]":"[]"}else w(r||u,(function(t){var e=A(t,u,n,r,i,s,a);void 0!==e&&f.push(N(t)+":"+(i?" ":"")+e)})),b=f.length?i?"{\n"+s+f.join(",\n"+s)+"\n"+v+"}":"{"+f.join(",")+"}":"{}";return a.pop(),b}};e.stringify=function(t,e,n){var r,i,o,a;if(s[typeof e]&&e)if("[object Function]"==(a=d.call(e)))i=e;else if("[object Array]"==a){o={};for(var u,c=0,h=e.length;c<h;)u=e[c++],"[object String]"!=(a=d.call(u))&&"[object Number]"!=a||(o[u]=1)}if(n)if("[object Number]"==(a=d.call(n))){if((n-=n%1)>0)for(n>10&&(n=10),r="";r.length<n;)r+=" "}else"[object String]"==a&&(r=n.length<=10?n:n.slice(0,10));return A("",((u={})[""]=t,u),i,o,r,"",[])}}}if(!v("json-parse")){var R,I,j=r.fromCharCode,P={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},k=function(){throw R=I=null,a()},U=function(){for(var t,e,n,r,i,o=I,s=o.length;R<s;)switch(i=o.charCodeAt(R)){case 9:case 10:case 13:case 32:R++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=b?o.charAt(R):o[R],R++,t;case 34:for(t="@",R++;R<s;)if((i=o.charCodeAt(R))<32)k();else if(92==i)switch(i=o.charCodeAt(++R)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=P[i],R++;break;case 117:for(e=++R,n=R+4;R<n;R++)(i=o.charCodeAt(R))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||k();t+=j("0x"+o.slice(e,R));break;default:k()}else{if(34==i)break;for(i=o.charCodeAt(R),e=R;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++R);t+=o.slice(e,R)}if(34==o.charCodeAt(R))return R++,t;k();default:if(e=R,45==i&&(r=!0,i=o.charCodeAt(++R)),i>=48&&i<=57){for(48==i&&((i=o.charCodeAt(R+1))>=48&&i<=57)&&k(),r=!1;R<s&&((i=o.charCodeAt(R))>=48&&i<=57);R++);if(46==o.charCodeAt(R)){for(n=++R;n<s&&!((i=o.charCodeAt(n))<48||i>57);n++);n==R&&k(),R=n}if(101==(i=o.charCodeAt(R))||69==i){for(43!=(i=o.charCodeAt(++R))&&45!=i||R++,n=R;n<s&&!((i=o.charCodeAt(n))<48||i>57);n++);n==R&&k(),R=n}return+o.slice(e,R)}r&&k();var a=o.slice(R,R+4);if("true"==a)return R+=4,!0;if("fals"==a&&101==o.charCodeAt(R+4))return R+=5,!1;if("null"==a)return R+=4,null;k()}return"$"},L=function(t){var e,n;if("$"==t&&k(),"string"==typeof t){if("@"==(b?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=U());)n?","==t?"]"==(t=U())&&k():k():n=!0,","==t&&k(),e.push(L(t));return e}if("{"==t){for(e={};"}"!=(t=U());)n?","==t?"}"==(t=U())&&k():k():n=!0,","!=t&&"string"==typeof t&&"@"==(b?t.charAt(0):t[0])&&":"==U()||k(),e[t.slice(1)]=L(U());return e}k()}return t},D=function(t,e,n){var r=B(t,e,n);void 0===r?delete t[e]:t[e]=r},B=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if("[object Array]"==d.call(i))for(r=i.length;r--;)D(d,w,i);else w(i,(function(t){D(i,t,n)}));return n.call(t,e,i)};e.parse=function(t,e){var n,r;return R=0,I=""+t,n=L(U()),"$"!=U()&&k(),R=I=null,e&&"[object Function]"==d.call(e)?B(((r={})[""]=n,r),"",e):n}}}return e.runInContext=h,e}if(!c||c.global!==c&&c.window!==c&&c.self!==c||(u=c),a&&!o)h(u,a);else{var l=u.JSON,f=u.JSON3,p=!1,d=h(u,u.JSON3={noConflict:function(){return p||(p=!0,u.JSON=l,u.JSON3=f,l=f=null),d}});u.JSON={parse:d.parse,stringify:d.stringify}}o&&(void 0===(i=function(){return d}.call(e,n,e,t))||(t.exports=i))}).call(this)}).call(this,n(28)(t),n(1))},function(t,e,n){"use strict";(function(e){var r=n(6),i={},o=!1,s=e.chrome&&e.chrome.app&&e.chrome.app.runtime;t.exports={attachEvent:function(t,n){void 0!==e.addEventListener?e.addEventListener(t,n,!1):e.document&&e.attachEvent&&(e.document.attachEvent("on"+t,n),e.attachEvent("on"+t,n))},detachEvent:function(t,n){void 0!==e.addEventListener?e.removeEventListener(t,n,!1):e.document&&e.detachEvent&&(e.document.detachEvent("on"+t,n),e.detachEvent("on"+t,n))},unloadAdd:function(t){if(s)return null;var e=r.string(8);return i[e]=t,o&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in i&&delete i[t]},triggerUnloadCallbacks:function(){for(var t in i)i[t](),delete i[t]}};s||t.exports.attachEvent("unload",(function(){o||(o=!0,t.exports.triggerUnloadCallbacks())}))}).call(this,n(1))},function(t,e,n){"use strict";var r=n(48);t.exports={string:function(t){for(var e="abcdefghijklmnopqrstuvwxyz012345".length,n=r.randomBytes(t),i=[],o=0;o<t;o++)i.push("abcdefghijklmnopqrstuvwxyz012345".substr(n[o]%e,1));return i.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length;return(new Array(e+1).join("0")+this.number(t)).slice(-e)}}},function(t,e,n){"use strict";var r=n(0),i=n(3),o=n(22);function s(t,e,n,r){o.call(this,t,e,function(t){return function(e,n,r){var o={};"string"==typeof n&&(o.headers={"Content-type":"text/plain"});var s=i.addPath(e,"/xhr_send"),a=new t("POST",s,n,o);return a.once("finish",(function(t){if(a=null,200!==t&&204!==t)return r(new Error("http status "+t));r()})),function(){a.close(),a=null;var t=new Error("Aborted");t.code=1e3,r(t)}}}(r),n,r)}r(s,o),t.exports=s},function(t,e,n){"use strict";var r=n(0),i=n(23);function o(t,e,n){i.call(this,t,e,n,{noCredentials:!0})}r(o,i),o.enabled=i.enabled,t.exports=o},function(t,e,n){"use strict";(function(e){t.exports={isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!e.document)return!0;try{return!!e.document.domain}catch(t){return!1}}}}).call(this,n(1))},function(t,e,n){"use strict";(function(e){var r=n(5),i=n(4),o=n(9);t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in e||(e[t.exports.WPrefix]={})},postMessage:function(n,r){e.parent!==e&&e.parent.postMessage(i.stringify({windowId:t.exports.currentWindowId,type:n,data:r||""}),"*")},createIframe:function(t,n){var i,o,s=e.document.createElement("iframe"),a=function(){clearTimeout(i);try{s.onload=null}catch(t){}s.onerror=null},u=function(){s&&(a(),setTimeout((function(){s&&s.parentNode.removeChild(s),s=null}),0),r.unloadDel(o))},c=function(t){s&&(u(),n(t))};return s.src=t,s.style.display="none",s.style.position="absolute",s.onerror=function(){c("onerror")},s.onload=function(){clearTimeout(i),i=setTimeout((function(){c("onload timeout")}),2e3)},e.document.body.appendChild(s),i=setTimeout((function(){c("timeout")}),15e3),o=r.unloadAdd(u),{post:function(t,e){setTimeout((function(){try{s&&s.contentWindow&&s.contentWindow.postMessage(t,e)}catch(t){}}),0)},cleanup:u,loaded:a}},createHtmlfile:function(n,i){var o,s,a,u=["Active"].concat("Object").join("X"),c=new e[u]("htmlfile"),h=function(){clearTimeout(o),a.onerror=null},l=function(){c&&(h(),r.unloadDel(s),a.parentNode.removeChild(a),a=c=null,CollectGarbage())},f=function(t){c&&(l(),i(t))};c.open(),c.write('<html><script>document.domain="'+e.document.domain+'";<\/script></html>'),c.close(),c.parentWindow[t.exports.WPrefix]=e[t.exports.WPrefix];var p=c.createElement("div");return c.body.appendChild(p),a=c.createElement("iframe"),p.appendChild(a),a.src=n,a.onerror=function(){f("onerror")},o=setTimeout((function(){f("timeout")}),15e3),s=r.unloadAdd(l),{post:function(t,e){try{setTimeout((function(){a&&a.contentWindow&&a.contentWindow.postMessage(t,e)}),0)}catch(t){}},cleanup:l,loaded:h}}},t.exports.iframeEnabled=!1,e.document&&(t.exports.iframeEnabled=("function"==typeof e.postMessage||"object"==typeof e.postMessage)&&!o.isKonqueror())}).call(this,n(1))},function(t,e,n){"use strict";var r=n(0),i=n(2).EventEmitter;function o(t,e){i.call(this);var n=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",(function(t,e){n._chunkHandler(t,e),n.xo=null;var r=200===t?"network":"permanent";n.emit("close",null,r),n._cleanup()}))}r(o,i),o.prototype._chunkHandler=function(t,e){if(200===t&&e)for(var n=-1;;this.bufferPosition+=n+1){var r=e.slice(this.bufferPosition);if(-1===(n=r.indexOf("\n")))break;var i=r.slice(0,n);i&&this.emit("message",i)}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},t.exports=o},function(t,e,n){"use strict";var r=n(0),i=n(23);function o(t,e,n,r){i.call(this,t,e,n,r)}r(o,i),o.enabled=i.enabled&&i.supportsCORS,t.exports=o},function(t,e,n){"use strict";(function(e){var r=n(2).EventEmitter,i=n(0),o=n(5),s=n(9),a=n(3);function u(t,e,n){var i=this;r.call(this),setTimeout((function(){i._start(t,e,n)}),0)}i(u,r),u.prototype._start=function(t,n,r){var i=this,s=new e.XDomainRequest;n=a.addQuery(n,"t="+ +new Date),s.onerror=function(){i._error()},s.ontimeout=function(){i._error()},s.onprogress=function(){s.responseText,i.emit("chunk",200,s.responseText)},s.onload=function(){i.emit("finish",200,s.responseText),i._cleanup(!1)},this.xdr=s,this.unloadRef=o.unloadAdd((function(){i._cleanup(!0)}));try{this.xdr.open(t,n),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch(t){this._error()}},u.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},u.prototype._cleanup=function(t){if(this.xdr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},u.prototype.close=function(){this._cleanup(!0)},u.enabled=!(!e.XDomainRequest||!s.hasDomain()),t.exports=u}).call(this,n(1))},function(t,e,n){"use strict";(function(e){var r=n(0),i=n(27),o=n(15);t.exports=function(t){function n(e,n){i.call(this,t.transportName,e,n)}return r(n,i),n.enabled=function(n,r){if(!e.document)return!1;var s=o.extend({},r);return s.sameOrigin=!0,t.enabled(s)&&i.enabled()},n.transportName="iframe-"+t.transportName,n.needBody=!0,n.roundTrips=i.roundTrips+t.roundTrips-1,n.facadeTransport=t,n}}).call(this,n(1))},function(t,e,n){"use strict";t.exports={isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,n,r=1,i=arguments.length;r<i;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}},function(t,e,n){"use strict";function r(t){this.type=t}r.prototype.initEvent=function(t,e,n){return this.type=t,this.bubbles=e,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,t.exports=r},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(37),i=n(38),o=n(39);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=a(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(h(e),t=a(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(r)return q(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return N(this,e,n);case"base64":return x(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var h=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var l=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){l=!1;break}if(l)return o}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function w(t,e,n,r){return J(q(e,t.length-n),t,n,r)}function _(t,e,n,r){return J(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function E(t,e,n,r){return _(t,e,n,r)}function O(t,e,n,r){return J(z(e),t,n,r)}function S(t,e,n,r){return J(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function x(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,c=t[i],h=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(h=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(h=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(h=u)}null===h?(h=65533,l=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=l}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return h(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):m.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),c=this.slice(r,i),h=t.slice(e,n),l=0;l<a;++l)if(c[l]!==h[l]){o=c[l],s=h[l];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return E(this,t,e,n);case"base64":return O(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function N(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function A(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=M(t[o]);return i}function R(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function P(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function k(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function U(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,r,o){return o||U(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function D(t,e,n,r,o){return o||U(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||j(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||j(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):k(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):k(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);j(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);j(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):k(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):k(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return D(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return D(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:q(new u(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function M(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function J(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(1))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],h=!1,l=-1;function f(){h&&u&&(h=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!h){var t=a(f);h=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||h||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),u=r[n];n<o;u=r[++n])m(u)||!w(u)?s+=" "+u:s+=" "+a(u);return s},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,s={};function a(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),h(r,t,r.depth)}function u(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function c(t,e){return t}function h(t,n,r){if(t.customInspect&&n&&O(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return g(i)||(i=h(t,i,r)),i}var o=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(y(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),E(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(n);if(0===s.length){if(O(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return t.stylize(Date.prototype.toString.call(n),"date");if(E(n))return l(n)}var c,w="",S=!1,x=["{","}"];(p(n)&&(S=!0,x=["[","]"]),O(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),_(n)&&(w=" "+Date.prototype.toUTCString.call(n)),E(n)&&(w=" "+l(n)),0!==s.length||S&&0!=n.length?r<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=S?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)N(e,String(s))?o.push(f(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))})),o}(t,n,r,a,s):s.map((function(e){return f(t,n,r,a,e,S)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,w,x)):x[0]+w+x[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),N(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=m(n)?h(t,u.value,null):h(t,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),v(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function m(t){return null===t}function y(t){return"number"==typeof t}function g(t){return"string"==typeof t}function v(t){return void 0===t}function b(t){return w(t)&&"[object RegExp]"===S(t)}function w(t){return"object"==typeof t&&null!==t}function _(t){return w(t)&&"[object Date]"===S(t)}function E(t){return w(t)&&("[object Error]"===S(t)||t instanceof Error)}function O(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function x(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(v(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;s[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else s[n]=function(){};return s[n]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=d,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=b,e.isObject=w,e.isDate=_,e.isError=E,e.isFunction=O,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(43);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var t=new Date,e=[x(t.getHours()),x(t.getMinutes()),x(t.getSeconds())].join(":");return[t.getDate(),T[t.getMonth()],e].join(" ")}function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",C(),e.format.apply(e,arguments))},e.inherits=n(44),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(A&&t[A]){var e;if("function"!=typeof(e=t[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),A&&Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=A,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(s,null,e)}),(function(e){t.nextTick(R,e,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(18))},function(t,e,n){"use strict";(function(e){var r=n(49),i=n(50),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function u(t){return(t||"").toString().replace(a,"")}var c=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],h={hash:1,query:1};function l(t){var n,r=("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).location||{},i={},s=typeof(t=t||r);if("blob:"===t.protocol)i=new p(unescape(t.pathname),{});else if("string"===s)for(n in i=new p(t,{}),h)delete i[n];else if("object"===s){for(n in t)n in h||(i[n]=t[n]);void 0===i.slashes&&(i.slashes=o.test(t.href))}return i}function f(t){t=u(t);var e=s.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function p(t,e,n){if(t=u(t),!(this instanceof p))return new p(t,e,n);var o,s,a,h,d,m,y=c.slice(),g=typeof e,v=this,b=0;for("object"!==g&&"string"!==g&&(n=e,e=null),n&&"function"!=typeof n&&(n=i.parse),e=l(e),o=!(s=f(t||"")).protocol&&!s.slashes,v.slashes=s.slashes||o&&e.slashes,v.protocol=s.protocol||e.protocol||"",t=s.rest,s.slashes||(y[3]=[/(.*)/,"pathname"]);b<y.length;b++)"function"!=typeof(h=y[b])?(a=h[0],m=h[1],a!=a?v[m]=t:"string"==typeof a?~(d=t.indexOf(a))&&("number"==typeof h[2]?(v[m]=t.slice(0,d),t=t.slice(d+h[2])):(v[m]=t.slice(d),t=t.slice(0,d))):(d=a.exec(t))&&(v[m]=d[1],t=t.slice(0,d.index)),v[m]=v[m]||o&&h[3]&&e[m]||"",h[4]&&(v[m]=v[m].toLowerCase())):t=h(t);n&&(v.query=n(v.query)),o&&e.slashes&&"/"!==v.pathname.charAt(0)&&(""!==v.pathname||""!==e.pathname)&&(v.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],o=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(o=!0),n.splice(r,1),s--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(v.pathname,e.pathname)),r(v.port,v.protocol)||(v.host=v.hostname,v.port=""),v.username=v.password="",v.auth&&(h=v.auth.split(":"),v.username=h[0]||"",v.password=h[1]||""),v.origin=v.protocol&&v.host&&"file:"!==v.protocol?v.protocol+"//"+v.host:"null",v.href=v.toString()}p.prototype={set:function(t,e,n){var o=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||i.parse)(e)),o[t]=e;break;case"port":o[t]=e,r(e,o.protocol)?e&&(o.host=o.hostname+":"+e):(o.host=o.hostname,o[t]="");break;case"hostname":o[t]=e,o.port&&(e+=":"+o.port),o.host=e;break;case"host":o[t]=e,/:\d+$/.test(e)?(e=e.split(":"),o.port=e.pop(),o.hostname=e.join(":")):(o.hostname=e,o.port="");break;case"protocol":o.protocol=e.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(e){var s="pathname"===t?"/":"#";o[t]=e.charAt(0)!==s?s+e:e}else o[t]=e;break;default:o[t]=e}for(var a=0;a<c.length;a++){var u=c[a];u[4]&&(o[u[1]]=o[u[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(t){t&&"function"==typeof t||(t=i.stringify);var e,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(o+=n.hash),o}},p.extractProtocol=f,p.location=l,p.trimLeft=u,p.qs=i,t.exports=p}).call(this,n(1))},function(t,e,n){"use strict";function r(){this._listeners={}}r.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];-1===n.indexOf(e)&&(n=n.concat([e])),this._listeners[t]=n},r.prototype.removeEventListener=function(t,e){var n=this._listeners[t];if(n){var r=n.indexOf(e);-1===r||(n.length>1?this._listeners[t]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[t])}},r.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,n=1===arguments.length?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,n),e in this._listeners)for(var r=this._listeners[e],i=0;i<r.length;i++)r[i].apply(this,n)},t.exports=r},function(t,e,n){"use strict";var r=n(0),i=n(3),o=n(53),s=n(54);function a(t,e,n,r,a){var u=i.addPath(t,e),c=this;o.call(this,t,n),this.poll=new s(r,u,a),this.poll.on("message",(function(t){c.emit("message",t)})),this.poll.once("close",(function(t,e){c.poll=null,c.emit("close",t,e),c.close()}))}r(a,o),a.prototype.close=function(){o.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},t.exports=a},function(t,e,n){"use strict";(function(e){var r=n(2).EventEmitter,i=n(0),o=n(5),s=n(3),a=e.XMLHttpRequest;function u(t,e,n,i){var o=this;r.call(this),setTimeout((function(){o._start(t,e,n,i)}),0)}i(u,r),u.prototype._start=function(t,e,n,r){var i=this;try{this.xhr=new a}catch(t){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();e=s.addQuery(e,"t="+ +new Date),this.unloadRef=o.unloadAdd((function(){i._cleanup(!0)}));try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){i.emit("finish",0,""),i._cleanup(!1)})}catch(t){return this.emit("finish",0,""),void this._cleanup(!1)}if(r&&r.noCredentials||!u.supportsCORS||(this.xhr.withCredentials=!0),r&&r.headers)for(var c in r.headers)this.xhr.setRequestHeader(c,r.headers[c]);this.xhr.onreadystatechange=function(){if(i.xhr){var t,e,n=i.xhr;switch(n.readyState,n.readyState){case 3:try{e=n.status,t=n.responseText}catch(t){}1223===e&&(e=204),200===e&&t&&t.length>0&&i.emit("chunk",e,t);break;case 4:1223===(e=n.status)&&(e=204),12005!==e&&12029!==e||(e=0),n.responseText,i.emit("finish",e,n.responseText),i._cleanup(!1)}}};try{i.xhr.send(n)}catch(t){i.emit("finish",0,""),i._cleanup(!1)}},u.prototype._cleanup=function(t){if(this.xhr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch(t){}this.unloadRef=this.xhr=null}},u.prototype.close=function(){this._cleanup(!0)},u.enabled=!!a;var c=["Active"].concat("Object").join("X");!u.enabled&&c in e&&(a=function(){try{return new e[c]("Microsoft.XMLHTTP")}catch(t){return null}},u.enabled=!!new a);var h=!1;try{h="withCredentials"in new a}catch(t){}u.supportsCORS=h,t.exports=u}).call(this,n(1))},function(t,e,n){"use strict";var r=n(0),i=n(7),o=n(11),s=n(13);function a(t){if(!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",o,s)}r(a,i),a.enabled=function(t){return!t.cookie_needed&&!t.nullOrigin&&(s.enabled&&t.sameScheme)},a.transportName="xdr-streaming",a.roundTrips=2,t.exports=a},function(t,e,n){"use strict";var r=n(0),i=n(7),o=n(55),s=n(12),a=n(26);function u(t){if(!u.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/eventsource",o,s)}r(u,i),u.enabled=function(){return!!a},u.transportName="eventsource",u.roundTrips=2,t.exports=u},function(t,e,n){(function(e){t.exports=e.EventSource}).call(this,n(1))},function(t,e,n){"use strict";var r=n(0),i=n(4),o=n(2).EventEmitter,s=n(29),a=n(3),u=n(10),c=n(5),h=n(6);function l(t,e,n){if(!l.enabled())throw new Error("Transport created when disabled");o.call(this);var r=this;this.origin=a.getOrigin(n),this.baseUrl=n,this.transUrl=e,this.transport=t,this.windowId=h.string(8);var i=a.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=u.createIframe(i,(function(t){r.emit("close",1006,"Unable to load an iframe ("+t+")"),r.close()})),this.onmessageCallback=this._message.bind(this),c.attachEvent("message",this.onmessageCallback)}r(l,o),l.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){c.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},l.prototype._message=function(t){if(t.data,!a.isOriginEqual(t.origin,this.origin))return t.origin,void this.origin;var e;try{e=i.parse(t.data)}catch(e){return void t.data}if(e.windowId!==this.windowId)return e.windowId,void this.windowId;switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",i.stringify([s,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var n;try{n=i.parse(e.data)}catch(t){return void e.data}this.emit("close",n[0],n[1]),this.close()}},l.prototype.postMessage=function(t,e){this.iframeObj.post(i.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},l.prototype.send=function(t){this.postMessage("m",t)},l.enabled=function(){return u.iframeEnabled},l.transportName="iframe",l.roundTrips=2,t.exports=l},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports="1.4.0"},function(t,e,n){"use strict";var r=n(0),i=n(57),o=n(8),s=n(7);function a(t){if(!i.enabled)throw new Error("Transport created when disabled");s.call(this,t,"/htmlfile",i,o)}r(a,s),a.enabled=function(t){return i.enabled&&t.sameOrigin},a.transportName="htmlfile",a.roundTrips=2,t.exports=a},function(t,e,n){"use strict";var r=n(0),i=n(7),o=n(11),s=n(12),a=n(8);function u(t){if(!a.enabled&&!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",o,s)}r(u,i),u.enabled=function(t){return!t.nullOrigin&&(!(!a.enabled||!t.sameOrigin)||s.enabled)},u.transportName="xhr-polling",u.roundTrips=2,t.exports=u},function(t,e,n){"use strict";(function(e){t.exports=e.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,n(1))},function(t,e,n){"use strict";var r=n(0),i=n(2).EventEmitter,o=n(4),s=n(8),a=n(34);function u(t){var e=this;i.call(this),this.ir=new a(t,s),this.ir.once("finish",(function(t,n){e.ir=null,e.emit("message",o.stringify([t,n]))}))}r(u,i),u.transportName="iframe-info-receiver",u.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},t.exports=u},function(t,e,n){"use strict";var r=n(2).EventEmitter,i=n(0),o=n(4),s=n(15);function a(t,e){r.call(this);var n=this,i=+new Date;this.xo=new e("GET",t),this.xo.once("finish",(function(t,e){var r,a;if(200===t){if(a=+new Date-i,e)try{r=o.parse(e)}catch(t){}s.isObject(r)||(r={})}n.emit("finish",r,a),n.removeAllListeners()}))}i(a,r),a.prototype.close=function(){this.removeAllListeners(),this.xo.close()},t.exports=a},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var i,o,s,a;if(c(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=h(t))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function d(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):y(i,i.length)}function m(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return h(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else{var c=u.length,h=y(u,c);for(n=0;n<c;++n)o(h[n],this,e)}return!0},a.prototype.addListener=function(t,e){return l(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return l(this,t,e,!0)},a.prototype.once=function(t,e){return c(e),this.on(t,p(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,p(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,i,o,s;if(c(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";(function(t,r){const i=n(42),o=n(74),s=n(19),a=n(35),u=n(75),c=n(76),h=n(77),l=n(78),f=/^MSG\s+([^\s\r\n]+)\s+([^\s\r\n]+)\s+(([^\s\r\n]+)[^\S\r\n]+)?(\d+)\r\n/i,p=/^\+OK\s*\r\n/i,d=/^-ERR\s+('.+')?\r\n/i,m=/^PING\r\n/i,y=/^PONG\r\n/i,g=/^INFO\s+([^\r\n]+)\r\n/i,v=/^SUB\s+([^\r\n]+)\r\n/i,b=/\s*(?:(?:[-]{3,}[^\n]*[-]{3,}\n)(.+)(?:\n\s*[-]{3,}[^\n]*[-]{3,}\n))/i,w="\r\n".length;function _(t,e,n){Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=t,this.code=e,this.chainedError=n}s.inherits(_,Error),e.NatsError=_,e.version="1.4.9",e.BAD_AUTHENTICATION="BAD_AUTHENTICATION",e.BAD_CREDS="BAD_CREDENTIALS",e.BAD_JSON="BAD_JSON",e.BAD_MSG="BAD_MSG",e.BAD_OPTIONS="BAD_OPTIONS",e.BAD_REPLY="BAD_REPLY",e.BAD_SUBJECT="BAD_SUBJECT",e.CLIENT_CERT_REQ="CLIENT_CERT_REQ",e.CONN_CLOSED="CONN_CLOSED",e.CONN_DRAINING="CONN_DRAINING",e.CONN_ERR="CONN_ERR",e.CONN_TIMEOUT="CONN_TIMEOUT",e.INVALID_ENCODING="INVALID_ENCODING",e.NATS_PROTOCOL_ERR="NATS_PROTOCOL_ERR",e.NKEY_OR_JWT_REQ="NKEY_OR_JWT_REQ",e.NON_SECURE_CONN_REQ="NON_SECURE_CONN_REQ",e.NO_ECHO_NOT_SUPPORTED="NO_ECHO_NOT_SUPPORTED",e.NO_SEED_IN_CREDS="NO_SEED_IN_CREDS",e.NO_USER_JWT_IN_CREDS="NO_USER_JWT_IN_CREDS",e.OPENSSL_ERR="OPENSSL_ERR",e.PERMISSIONS_ERR="permissions violation",e.REQ_TIMEOUT="REQ_TIMEOUT",e.SECURE_CONN_REQ="SECURE_CONN_REQ",e.SIGCB_NOTFUNC="SIG_NOT_FUNC",e.SIGNATURE_REQUIRED="SIG_REQ",e.STALE_CONNECTION_ERR="stale connection",e.SUB_DRAINING="SUB_DRAINING";const E=e.createInbox=function(){return"_INBOX."+u.next()};function O(t){a.EventEmitter.call(this),this.parseOptions(t),this.initState(),this.selectServer(),this.createConnection()}function S(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t}function x(t){null===/^.*:\/\/.*/.exec(t)&&(t="nats://"+t);const e=l.parse(t);return null!==e.port&&""!==e.port||(t+=":4222"),t}function T(t){this.url=t,this.didConnect=!1,this.reconnects=0,this.lastConnect=0}function C(t,e){const n=new Array(t),r=function(t,e){for(let n=t.length-1;n>-1;n--)if(e(t[n]))return n;return-1}(e,t=>"function"==typeof t);if(-1!==r){n[t-1]=e[r];for(let t=0;t<r;t++)n[t]=e[t]}else for(let t=0;t<e.length;t++)n[t]=e[t];return n}e.connect=function(t,e){if(void 0!==e){if("object"!=typeof e)throw new _("Options should be an object as second parameter.","BAD_OPTIONS");e.url=x(t)}else e=t;return new O(e)},s.inherits(O,a.EventEmitter),O.prototype.createInbox=E,O.prototype.assignOption=function(t,e,n){void 0===n&&(n=e),void 0!==t[e]&&(this.options[n]=t[e])},O.prototype.parseOptions=function(e){const n=this.options={encoding:"utf8",maxPingOut:2,maxReconnectAttempts:10,noEcho:!1,pedantic:!1,pingInterval:12e4,reconnect:!0,reconnectTimeWait:2e3,tls:!1,useOldRequestStyle:!1,verbose:!1,waitOnFirstConnect:!1};if(void 0===e?n.url="nats://localhost:4222":"number"==typeof e?n.url="nats://localhost:"+e:"string"==typeof e?n.url=x(e):"object"==typeof e&&(void 0!==e.port&&(n.url="nats://localhost:"+e.port),this.assignOption(e,"timeout"),this.assignOption(e,"encoding"),this.assignOption(e,"json"),this.assignOption(e,"maxPingOut"),this.assignOption(e,"maxReconnectAttempts"),this.assignOption(e,"name"),this.assignOption(e,"nkey"),this.assignOption(e,"noEcho"),this.assignOption(e,"noRandomize"),this.assignOption(e,"nonceSigner"),this.assignOption(e,"pass"),this.assignOption(e,"pedantic"),this.assignOption(e,"pingInterval"),this.assignOption(e,"preserveBuffers"),this.assignOption(e,"reconnect"),this.assignOption(e,"reconnectTimeWait"),this.assignOption(e,"servers"),this.assignOption(e,"tls"),this.assignOption(e,"token"),this.assignOption(e,"tokenHandler"),this.assignOption(e,"url"),this.assignOption(e,"useOldRequestStyle"),this.assignOption(e,"user"),this.assignOption(e,"userCreds"),this.assignOption(e,"userJWT"),this.assignOption(e,"verbose"),this.assignOption(e,"waitOnFirstConnect"),this.assignOption(e,"yieldTime"),this.assignOption(e,"client","name"),this.assignOption(e,"credentials","userCreds"),this.assignOption(e,"dontRandomize","noRandomize"),this.assignOption(e,"jwt","userJWT"),this.assignOption(e,"JWT","userJWT"),this.assignOption(e,"nkeys","nkey"),this.assignOption(e,"NoRandomize","noRandomize"),this.assignOption(e,"password","pass"),this.assignOption(e,"secure","tls"),this.assignOption(e,"sig","nonceSigner"),this.assignOption(e,"sigCB","nonceSigner"),this.assignOption(e,"sigCallback","nonceSigner"),this.assignOption(e,"sigcb","nonceSigner"),this.assignOption(e,"uri","url"),this.assignOption(e,"urls","servers"),this.assignOption(e,"usercreds","userCreds"),this.assignOption(e,"userjwt","userJWT")),this.user=n.user,this.pass=n.pass,this.token=n.token,this.tokenHandler=n.tokenHandler,this.user&&this.token)throw new _("User and Token can not both be provided","BAD_AUTHENTICATION");if(this.tokenHandler&&"function"!=typeof this.tokenHandler)throw new _("tokenHandler must be a function returning a token","BAD_AUTHENTICATION");if(this.tokenHandler&&this.token)throw new _("token and tokenHandler cannot both be provided","BAD_AUTHENTICATION");if(!t.isEncoding(n.encoding))throw new _("Invalid Encoding:"+n.encoding,"INVALID_ENCODING");if(this.encoding=n.encoding,this.servers=[],Array.isArray(n.servers)?(n.servers.forEach(t=>{t=x(t),this.servers.push(new T(l.parse(t)))}),!0!==n.noRandomize&&S(this.servers),void 0!==n.url&&-1===this.servers.indexOf(n.url)&&this.servers.unshift(new T(l.parse(n.url)))):(void 0===n.url&&(n.url="nats://localhost:4222"),this.servers.push(new T(l.parse(n.url)))),!1===n.tls&&this.servers.forEach(t=>{"tls"!==t.url.protocol&&"tls:"!==t.url.protocol||(n.tls=!0)}),n.timeout&&"number"!=typeof n.timeout)throw new _("timeout should be a number","BAD_OPTIONS")},T.prototype.toString=function(){return this.url.href},O.prototype.selectServer=function(){const t=this.servers.shift();this.currentServer=t,this.url=t.url;const e=t.url.username||"",n=t.url.password||"";let r="";if(""!==e&&""!==n?r=e+":"+n:""!==e&&(r=e),""!==r){const t=r.split(":");1!==t.length?(void 0===this.options.user&&(this.user=t[0]),void 0===this.options.pass&&(this.pass=t[1])):void 0===this.options.token&&(this.token=t[0])}return this.servers.push(t),t},O.prototype.checkNoEchoMismatch=function(){return!(!(void 0===this.info.proto||this.info.proto<1)||!this.options.noEcho)&&(this.emit("error",new _("echo is not supported","NO_ECHO_NOT_SUPPORTED")),this.closeStream(),!0)},O.prototype.checkTLSMismatch=function(){return(!0===this.info.tls_required||!1!==this.options.tls&&!0!==this.stream.encrypted)&&(void 0!==this.options.tls&&!1!==this.options.tls||(this.options.tls=!0)),!0===this.info.tls_required&&!1===this.options.tls?(this.emit("error",new _("Server requires a secure connection.","SECURE_CONN_REQ")),this.closeStream(),!0):this.info.tls_required||!1===this.options.tls?!0===this.info.tls_verify&&void 0===this.options.tls.cert&&(this.emit("error",new _("Server requires a client certificate.","CLIENT_CERT_REQ")),this.closeStream(),!0):(this.emit("error",new _("Server does not support a secure connection.","NON_SECURE_CONN_REQ")),this.closeStream(),!0)},O.prototype.loadUserJWT=function(){const t=h.readFileSync(this.options.userCreds).toString(),e=b.exec(t);return null===e?(this.emit("error",new _("Can not locate user jwt in credentials.","NO_USER_JWT_IN_CREDS")),void this.closeStream()):e[1]},O.prototype.loadKeyAndSignNonce=function(e){const n=h.readFileSync(this.options.userCreds).toString(),r=new RegExp(b.source,"g");r.exec(n);const i=r.exec(n);return null===i?(this.emit("error",new _("Can not locate signing key in credentials","NO_SEED_IN_CREDS")),void this.closeStream()):c.fromSeed(t.from(i[1])).sign(e)},e.creds=function(t){if(void 0!==t)return{userCreds:t}},O.prototype.checkNkeyMismatch=function(){if(void 0===this.info.nonce)return!1;if(void 0!==this.options.userCreds){const t=h.readFileSync(this.options.userCreds).toString();if(null===b.exec(t))return this.emit("error",new _("Bad user credentials","BAD_CREDENTIALS")),this.closeStream(),!0;const e=this;return this.options.nonceSigner=function(t){return e.loadKeyAndSignNonce(t)},this.options.userJWT=function(){return e.loadUserJWT()},!1}return void 0===this.options.nonceSigner?(this.emit("error",new _("Server requires an Nkey signature.","SIG_REQ")),this.closeStream(),!0):"function"!=typeof this.options.nonceSigner?(this.emit("error",new _("Signature callback is not a function.","SIG_NOT_FUNC")),this.closeStream(),!0):void 0===this.options.nkey&&void 0===this.options.userJWT&&(this.emit("error",new _("An Nkey or User JWT callback needs to be defined.","NKEY_OR_JWT_REQ")),this.closeStream(),!0)},O.prototype.connectCB=function(){const t=!0===this.reconnecting?"reconnect":"connect";this.reconnecting=!1,this.reconnects=0,this.wasConnected=!0,this.currentServer.didConnect=!0,this.emit(t,this),this.flushPending()},O.prototype.cancelHeartbeat=function(){this.pingTimer&&(clearTimeout(this.pingTimer),delete this.pingTimer)},O.prototype.scheduleHeartbeat=function(){this.pingTimer=setTimeout((function(t){if(t.emit("pingtimer"),!t.closed){if(t.stream&&!t.stream.connecting){if(t.emit("pingcount",t.pout),t.pout++,t.pout>t.options.maxPingOut)return void t.processErr("stale connection");t.sendCommand("PING\r\n"),t.pongs&&t.pongs.push(void 0)}t.scheduleHeartbeat()}}),this.options.pingInterval,this)},O.prototype.clearConnectionTimeoutHandler=function(){this.connectionTimeoutHandler&&(clearTimeout(this.connectionTimeoutHandler),delete this.connectionTimeoutHandler)},O.prototype.setupHandlers=function(){const e=this.stream;void 0!==e&&(this.options.timeout&&!this.connectionTimeoutHandler&&(this.connectionTimeoutHandler=setTimeout(()=>{this.stream&&this.stream.destroy(new _("Connection timeout","CONN_TIMEOUT"))},this.options.timeout)),e.on("connect",()=>{this.cancelHeartbeat(),this.connected=!0,this.scheduleHeartbeat()}),e.on("close",()=>{const t=!0===this.closed||!1===this.options.reconnect||0===this.servers.length,n=this.pongs;this.closeStream(),e.bytesRead>0&&(t||(this.pongs=[],this.pending=[],this.pSize=0),n&&n.forEach(t=>{if("function"==typeof t)try{t(new _("Client disconnected, flush was reset","DISCONNECT"))}catch(t){}}),this.emit("disconnect")),t?(this.cleanupTimers(),this.emit("close")):this.scheduleReconnect()}),e.on("error",t=>{if(!0!==this.wasConnected||!0!==this.currentServer.didConnect){if(!1===this.wasConnected&&!1===this.currentServer.didConnect&&(this.options.waitOnFirstConnect?this.currentServer.didConnect=!0:this.servers.splice(this.servers.length-1,1)),!1===this.wasConnected&&0===this.servers.length)return this.emit("error",new _("Could not connect to server: "+t,"CONN_ERR",t)),void this.close();this.closeStream()}}),e.on("data",e=>{this.inbound?this.inbound=t.concat([this.inbound,e]):this.inbound=e,this.processInbound()}))},O.prototype.sendConnect=function(){const e={lang:"node",version:"1.4.9",verbose:this.options.verbose,pedantic:this.options.pedantic,protocol:1};if(void 0!==this.info.nonce&&void 0!==this.options.nonceSigner){const n=this.options.nonceSigner(t.from(this.info.nonce));e.sig=n.toString("base64")}if(void 0!==this.options.userJWT&&("function"==typeof this.options.userJWT?e.jwt=this.options.userJWT():e.jwt=this.options.userJWT),void 0!==this.options.nkey&&(e.nkey=this.options.nkey),void 0!==this.user&&(e.user=this.user,e.pass=this.pass),void 0!==this.tokenHandler){let t;try{t=this.tokenHandler()}catch(t){this.emit("error",new _("tokenHandler call failed: "+t,"BAD_AUTHENTICATION",t))}e.auth_token=t}else void 0!==this.token&&(e.auth_token=this.token);void 0!==this.options.name&&(e.name=this.options.name),void 0!==this.options.nkey&&(e.nkey=this.options.nkey),this.options.noEcho&&(e.echo=!1),this.stream.write("CONNECT "+JSON.stringify(e)+"\r\n")},O.prototype.createConnection=function(){this.pongs=this.pongs||[],this.pending=this.pending||[],this.pSize=this.pSize||0,this.pstate=0,this.info=null,this.infoReceived=!1,this.stream&&(this.stream.removeAllListeners(),this.stream.destroy()),this.stream=i.createConnection(this.url),this.stream.setNoDelay(!0),this.setupHandlers()},O.prototype.initState=function(){this.ssid=0,this.subs={},this.reconnects=0,this.connected=!1,this.wasConnected=!1,this.reconnecting=!1,this.pending=[],this.pout=0},O.prototype.close=function(){this.cleanupTimers(),this.closed=!0,this.removeAllListeners(),this.closeStream(),this.ssid=-1,this.subs=null,this.pstate=-1,this.pongs=null,this.pending=null,this.pSize=0},O.prototype.cleanupTimers=function(){if(this.cancelHeartbeat(),this.respmux&&this.respmux.requestMap)for(const t in this.respmux.requestMap)Object.hasOwnProperty.call(this.respmux.requestMap,t)&&this.cancelMuxRequest(t);if(this.subs)for(const t in this.subs)if(Object.hasOwnProperty.call(this.subs,t)){const e=this.subs[t];e.timeout&&(clearTimeout(e.timeout),delete e.timeout)}},O.prototype.closeStream=function(){null!==this.stream&&(this.stream.destroy(),this.clearConnectionTimeoutHandler(),this.stream=null),!0!==this.connected&&!0!==this.closed||(this.pongs=null,this.pout=0,this.pending=[],this.pSize=0,this.connected=!1),this.inbound=null,this.cancelHeartbeat()},O.prototype.flushPending=function(){if(!1===this.connected||null===this.pending||0===this.pending.length||!0!==this.infoReceived)return;const e=t=>(this.pending=[],this.pSize=0,this.stream.write(t));if(this.pBufs){let n=!0;for(let e=0;e<this.pending.length;e++)if(!t.isBuffer(this.pending[e])){n=!1;break}if(n)return e(t.concat(this.pending,this.pSize));{const t=this.pending;this.pending=[],this.pSize=0;let e=!0;for(let n=0;n<t.length;n++)e=this.stream.write(t[n])&&e;return e}}return e(this.pending.join(""))},O.prototype.stripPendingSubs=function(){const t=this.pending;this.pending=[],this.pSize=0;for(let e=0;e<t.length;e++)v.test(t[e])||this.sendCommand(t[e])},O.prototype.sendCommand=function(e){if(!this.closed&&(this.pending.push(e),t.isBuffer(e)?(this.pSize+=e.length,this.pBufs=!0):this.pSize+=t.byteLength(e),!0===this.connected))if(1===this.pending.length){const t=this;r((function(){t.flushPending()}))}else this.pSize>65536&&this.flushPending()},O.prototype.sendSubscriptions=function(){let t="";for(const e in this.subs)if(Object.hasOwnProperty.call(this.subs,e)){const n=this.subs[e];let r;if(r=n.qgroup?["SUB",n.subject,n.qgroup,e+"\r\n"]:["SUB",n.subject,e+"\r\n"],t+=r.join(" "),n.max){const i=n.max-n.received;r=i>0?["UNSUB",e,i+"\r\n"]:["UNSUB",e+"\r\n"],t+=r.join(" ")}}t.length>0&&this.stream.write(t)},O.prototype.processInbound=function(){let e,n;if(this.stream)for(this.stream.resume(),void 0!==this.options.yieldTime&&(n=Date.now());!this.closed&&this.inbound&&this.inbound.length>0;){switch(this.pstate){case 0:{const t=this.inbound.toString("binary",0,4096);if(null!==(e=f.exec(t)))this.payload={subj:e[1],sid:parseInt(e[2],10),reply:e[4],size:parseInt(e[5],10)},this.payload.psize=this.payload.size+w,this.pstate=1;else if(null!==(e=p.exec(t)));else if(null!==(e=d.exec(t))){if(this.processErr(e[1]))return}else if(null!==(e=y.exec(t))){this.pout=0;const t=this.pongs&&this.pongs.shift();t&&t()}else if(null!==(e=m.exec(t)))this.sendCommand("PONG\r\n");else{if(null===(e=g.exec(t)))return;if(this.info=JSON.parse(e[1]),this.processServerUpdate(),!1===this.infoReceived){if(!0===this.checkTLSMismatch())return;if(!0===this.checkNoEchoMismatch())return;if(!0===this.checkNkeyMismatch())return;if(!0===this.info.tls_required){const t={socket:this.stream};if("object"==typeof this.options.tls)for(const e in this.options.tls)t[e]=this.options.tls[e];this.stream&&this.stream.removeAllListeners();try{this.stream=o.connect(t,()=>{this.flushPending()})}catch(t){return void this.emit("error",new _("TLS credentials verification failed: "+t,"OPENSSL_ERR",t))}this.setupHandlers()}this.sendConnect(),this.pongs.unshift(t=>{t||(this.clearConnectionTimeoutHandler(),this.sendSubscriptions(),this.stripPendingSubs(),this.currentServer.reconnects=0,this.connectCB())}),this.stream.write("PING\r\n"),this.flushPending(),this.infoReceived=!0}}break}case 1:if(this.inbound.length<this.payload.psize)return void 0===this.payload.chunks&&(this.payload.chunks=[]),this.payload.chunks.push(this.inbound),this.payload.psize-=this.inbound.length,void(this.inbound=null);if(this.payload.chunks){this.payload.chunks.push(this.inbound.slice(0,this.payload.psize));const e=t.concat(this.payload.chunks,this.payload.size);this.options.preserveBuffers?this.payload.msg=e:this.payload.msg=e.toString(this.encoding)}else this.options.preserveBuffers?this.payload.msg=this.inbound.slice(0,this.payload.size):this.payload.msg=this.inbound.toString(this.encoding,0,this.payload.size);if(this.inbound.length===this.payload.psize?this.inbound=null:this.inbound=this.inbound.slice(this.payload.psize),this.processMsg(),this.pstate=0,this.payload=null,void 0!==n&&Date.now()-n>this.options.yieldTime)return this.stream.pause(),void r(this.processInbound.bind(this))}if(this.inbound&&e&&!this.closed){const t=e[0].length;t>=this.inbound.length?this.inbound=null:this.inbound=this.inbound.slice(t)}e=null}},O.prototype.processServerUpdate=function(){if(this.info.connect_urls&&this.info.connect_urls.length>0){const t={};this.info.connect_urls.forEach(e=>{const n="nats://"+e,r=new T(l.parse(n));r.implicit=!0,t[r.url.href]=r});const e=[];this.servers.forEach((n,r)=>{const i=n.url.href;n.implicit&&this.currentServer.url.href!==i&&void 0===t[i]&&e.push(r),delete t[i]}),e.reverse(),e.forEach(t=>{this.servers.splice(t,1)});const n=[];for(const e in t)Object.hasOwnProperty.call(t,e)&&(this.servers.push(t[e]),n.push(e));n.length&&(this.emit("serversDiscovered",n),this.emit("servers",n))}},O.prototype.processMsg=function(){const t=this.subs[this.payload.sid];if(void 0!==t&&(t.received+=1,t.timeout&&t.received>=t.expected&&(clearTimeout(t.timeout),t.timeout=null),void 0!==t.max&&(t.received===t.max?(delete this.subs[this.payload.sid],this.emit("unsubscribe",this.payload.sid,t.subject)):t.received>t.max&&(this.unsubscribe(this.payload.sid),t.callback=null)),t.callback)){let e=this.payload.msg;if(this.options.json)try{e=this.options.preserveBuffers?JSON.parse(this.payload.msg.toString()):JSON.parse(this.payload.msg.toString(this.options.encoding))}catch(t){e=t}try{t.callback(e,this.payload.reply,this.payload.subj,this.payload.sid)}catch(t){this.emit("error",t)}}},O.prototype.processErr=function(t){const e=t?t.toLowerCase():"";return-1!==e.indexOf("stale connection")?(this.closeStream(),!0):-1!==e.indexOf("permissions violation")?(this.emit("permission_error",new _(t,"NATS_PROTOCOL_ERR")),!1):(this.emit("error",new _(t,"NATS_PROTOCOL_ERR")),this.closeStream(),!0)},O.prototype.addServer=function(t){this.servers.push(new T(l.parse(t))),!0!==this.options.noRandomize&&S(this.servers)},O.prototype.flush=function(t){if(this.closed){if("function"==typeof t)return void t(new _("Connection closed","CONN_CLOSED"));throw new _("Connection closed","CONN_CLOSED")}this.pongs&&(this.pongs.push(t),this.sendCommand("PING\r\n"),this.flushPending())},O.prototype.drain=function(t){if(this.handledClosedOrDraining(t))return;this.draining=!0;const e=[],n=[];for(const t in this.subs)if(Object.hasOwnProperty.call(this.subs,t)){const n=this.subs[t];n.sid=t,e.push(n)}e.forEach(r=>{this.drainSubscription(r.sid,()=>{n.push(r),n.length===e.length&&(this.noMorePublishing=!0,this.flush(()=>{this.close(),"function"==typeof t&&t()}))})}),0===e.length&&(this.noMorePublishing=!0,this.close(),"function"==typeof t&&t())},O.prototype.handledClosedOrDraining=function(t){if(this.closed){if("function"!=typeof t)throw new _("Connection closed","CONN_CLOSED");return t(new _("Connection closed","CONN_CLOSED")),!0}if(this.draining){if("function"!=typeof t)throw new _("Connection draining","CONN_DRAINING");return t(new _("Connection draining","CONN_DRAINING")),!0}},O.prototype.publish=function(e,n,r,i){if("function"==typeof e&&(i=e,e=void 0),this.noMorePublishing)return void("function"==typeof i?i(new _("Connection draining","CONN_DRAINING")):this.emit("error",new _("Connection draining","CONN_DRAINING")));if(n=this.options.json?void 0===n?null:n:n||"",!e){if(!i)throw new _("Subject must be supplied","BAD_SUBJECT");i(new _("Subject must be supplied","BAD_SUBJECT"))}if("function"==typeof n){if(i||r)return void i(new _("Message can't be a function","BAD_MSG"));i=n,n="",r=void 0}if("function"==typeof r){if(i)return void i(new _("Reply can't be a function","BAD_REPLY"));i=r,r=void 0}let o;if(o=void 0===r?"PUB "+e+" ":"PUB "+e+" "+r+" ",t.isBuffer(n)){const e=t.allocUnsafe(o.length+n.length+2*w+n.length.toString().length),r=e.write(o+n.length+"\r\n");n.copy(e,r),e.write("\r\n",r+n.length),this.sendCommand(e)}else{let e=n;if(this.options.json)try{e=JSON.stringify(n)}catch(t){throw new _("Message should be a non-circular JSON-serializable value","BAD_JSON")}this.sendCommand(o+t.byteLength(e)+"\r\n"+e+"\r\n")}if(void 0!==i)this.flush(i);else if(this.closed)throw new _("Connection closed","CONN_CLOSED")},O.prototype.subscribe=function(t,e,n){let r,i,o;return"function"==typeof e?(n=e,e=void 0):e&&"object"==typeof e&&(r=e.queue,i=e.max),this.handledClosedOrDraining(n)?0:(this.ssid+=1,this.subs[this.ssid]={subject:t,callback:n,received:0},"string"==typeof r?(this.subs[this.ssid].qgroup=r,o=["SUB",t,r,this.ssid+"\r\n"]):o=["SUB",t,this.ssid+"\r\n"],this.sendCommand(o.join(" ")),this.emit("subscribe",this.ssid,t,e),i&&this.unsubscribe(this.ssid,i),this.ssid)},O.prototype.unsubscribe=function(t,e){if(!t||this.closed)return;if(t<0)return void this.cancelMuxRequest(t);let n;n=e?["UNSUB",t,e+"\r\n"]:["UNSUB",t+"\r\n"],this.sendCommand(n.join(" "));const r=this.subs[t];void 0!==r&&(r.max=e,(void 0===r.max||r.received>=r.max)&&(r.timeout&&(clearTimeout(r.timeout),r.timeout=null),delete this.subs[t],this.emit("unsubscribe",t,r.subject)))},O.prototype.drainSubscription=function(t,e){if(this.handledClosedOrDraining(e))return;const n=this.subs[t];if(void 0===n)return void("function"==typeof e&&e());if(n.draining){if("function"!=typeof e)throw new _("Subscription draining","SUB_DRAINING");return void e(new _("Subscription draining","SUB_DRAINING"))}n.draining=!0;const r=["UNSUB",t+"\r\n"];this.sendCommand(r.join(" ")),this.flush(()=>{n.timeout&&(clearTimeout(n.timeout),n.timeout=null),delete this.subs[t],this.emit("unsubscribe",t,n.subject),"function"==typeof e&&e()})},O.prototype.timeout=function(t,e,n,r){if(!t)return;let i;if(t<0){const e=this.getMuxRequestConfig(t);e&&e.timeout&&clearTimeout(e.timeout),i=e}else i=this.subs[t];i&&(i.expected=n,i.timeout=setTimeout(()=>{r(t),this.unsubscribe(t)},e))},O.prototype.request=function(t,e,n,r){if(this.options.useOldRequestStyle)return this.oldRequest(t,e,n,r);if("function"==typeof e&&(r=e,e="",n=null),"function"==typeof n&&(r=n,n=null),this.handledClosedOrDraining(r))return 0;n=n||{};const i=this.initMuxRequestDetails(r,n.max);return this.publish(t,e,i.inbox),n.timeout&&(i.timeout=setTimeout(()=>{i.callback&&i.callback(new _("The request timed out for subscription id: "+i.id,"REQ_TIMEOUT")),this.cancelMuxRequest(i.token)},n.timeout)),i.id},O.prototype.oldRequest=function(t,e,n,r){if("function"==typeof e&&(r=e,e="",n=null),"function"==typeof n&&(r=n,n=null),this.draining)return void r(new _("Connection draining","CONN_DRAINING"));const i=this.createInbox(),o=this.subscribe(i,n,(function(t,e){r(t,e)}));return this.publish(t,e,i),o},O.prototype.requestOne=function(t,e,n,r,i){if(this.options.useOldRequestStyle)return this.oldRequestOne(t,e,n,r,i);const o=C(5,Array.prototype.slice.call(arguments));return t=o[0],e=o[1],n=o[2],r=o[3],i=o[4],void 0===r&&"number"==typeof n&&(r=n,n=void 0),void 0===r&&void 0===n&&"number"==typeof e&&(r=e,e=""),(n=n||{}).max=1,n.timeout=r,this.request(t,e,n,i)},e.callbackShifter=C,O.prototype.extractToken=function(t){return t.substr(this.respmux.inboxPrefixLen)},O.prototype.createResponseMux=function(){if(!this.respmux){const t=this.createInbox(),e=t+".*",n=this.subscribe(e,(t,e,r)=>{const i=this.extractToken(r),o=this.getMuxRequestConfig(i);o&&(o.callback&&o.callback(t,e),Object.hasOwnProperty.call(o,"expected")&&(o.received++,o.received>=o.expected&&(this.cancelMuxRequest(i),this.emit("unsubscribe",n,r))))});this.respmux={},this.respmux.inbox=t,this.respmux.inboxPrefixLen=t.length+1,this.respmux.subscriptionID=n,this.respmux.requestMap={},this.respmux.nextID=-1}return this.respmux.inbox},O.prototype.initMuxRequestDetails=function(t,e){const n=this.createResponseMux(),r=u.next(),i={token:r,callback:t,inbox:n+"."+r,id:this.respmux.nextID--,received:0};return e>0&&(i.expected=e),this.respmux.requestMap[r]=i,i},O.prototype.getMuxRequestConfig=function(t){if("number"==typeof t){let e=null;for(const n in this.respmux.requestMap)if(Object.hasOwnProperty.call(this.respmux.requestMap,n)){const r=this.respmux.requestMap[n];if(r.id===t){e=r;break}}e&&(t=e.token)}return this.respmux.requestMap[t]},O.prototype.cancelMuxRequest=function(t){const e=this.getMuxRequestConfig(t);return e&&(e.timeout&&clearTimeout(e.timeout),delete this.respmux.requestMap[e.token]),e},O.prototype.oldRequestOne=function(t,e,n,r,i){const o=C(5,Array.prototype.slice.call(arguments));t=o[0],e=o[1],n=o[2],r=o[3],i=o[4],void 0===r&&"number"==typeof n&&(r=n,n=void 0),void 0===r&&void 0===n&&"number"==typeof e&&(r=e,e=""),(n=n||{}).max=1,n.timeout=r;const s=this.request(t,e,n,i);return this.timeout(s,r,1,(function(){i(new _("The request timed out for subscription id: "+s,"REQ_TIMEOUT"))})),s},O.prototype.numSubscriptions=function(){return Object.keys(this.subs).length},O.prototype.reconnect=function(){this.closed||(this.currentServer.reconnects+=1,this.reconnects+=1,this.createConnection(),!0===this.currentServer.didConnect&&this.emit("reconnecting"),this.currentServer.lastConnect=Date.now())},O.prototype.scheduleReconnect=function(){if(0===this.servers.length)return;!0===this.wasConnected&&(this.reconnecting=!0);let t=0;!0===this.servers[0].didConnect&&(t=this.options.reconnectTimeWait);const e=Date.now();let n=t;for(let r=0;r<this.servers.length;r++){const r=this.selectServer();if(r.reconnects>=this.options.maxReconnectAttempts&&-1!==this.options.maxReconnectAttempts)this.servers.pop();else{if(void 0===r.lastConnect)return void this.reconnect();if(r.lastConnect+t<=e)return void this.reconnect();{const i=r.lastConnect+t-e;n>i&&(n=i)}}}if(0===this.servers.length)return this.cleanupTimers(),this.emit("close"),void this.close();setTimeout(()=>{this.scheduleReconnect()},n)}}).call(this,n(17).Buffer,n(40).setImmediate)},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),s=r[0],a=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),h=0,l=a>0?s-4:s;for(n=0;n<l;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[h++]=e>>16&255,u[h++]=e>>8&255,u[h++]=255&e;2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[h++]=255&e);1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[h++]=e>>8&255,u[h++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(h(t,s,s+16383>a?a:s+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function h(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,h=-7,l=n?i-1:0,f=n?-1:1,p=t[e+l];for(l+=f,o=p&(1<<-h)-1,p>>=-h,h+=a;h>0;o=256*o+t[e+l],l+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+t[e+l],l+=f,h-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,h=(1<<c)-1,l=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+l>=1?f/u:f*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(e*u-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+p]=255&s,p+=d,s/=256,c-=8);t[n+p-d]|=128*m}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(41),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,s,a,u=1,c={},h=!1,l=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){d(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},r=function(t){o.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,r=function(t){var e=l.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(d,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&d(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(e){t.postMessage(s+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[u]=i,r(u),u++},f.clearImmediate=p}function p(t){delete c[t]}function d(t){if(h)setTimeout(d,0,t);else{var e=c[t];if(e){h=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),h=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(1),n(18))},function(t,e,n){(function(t){var r=n(19),i=n(45),o=n(35).EventEmitter;function s(e){var n=this;o.call(this),this.sock=new i(e,null,{transports:["websocket"]}),this.sock.onopen=function(){n.emit("connect")},this.sock.onmessage=function(e){n.emit("data",t.from(e.data,"utf8"))},this.sock.onerror=function(t){n.emit("error",t)},this.sock.onclose=function(){n.emit("close")}}r.inherits(s,o),s.prototype.end=function(){this.destroy()},s.prototype.destroy=function(){this.sock.readyState!==i.CONNECTING&&this.sock.readyState!==i.OPEN||this.sock.close()},s.prototype.write=function(t){this.sock.readyState===i.OPEN&&this.sock.send(t)},s.prototype.pause=function(){console.warn("WebSocketProxy stream pause/resume is not supported yet.")},s.prototype.resume=function(){},e.createConnection=function(t){var e=new s(t.format({protocol:t.protocol,slashes:t.slashes,host:t.host,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search,path:t.path,query:t.query,hash:t.hash}));return e.setNoDelay=function(){},e}}).call(this,n(17).Buffer)},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";(function(e){var r=n(46);t.exports=n(62)(r),"_sockjs_onload"in e&&setTimeout(e._sockjs_onload,1)}).call(this,n(1))},function(t,e,n){"use strict";t.exports=[n(47),n(52),n(24),n(25),n(14)(n(25)),n(30),n(14)(n(30)),n(31),n(58),n(14)(n(31)),n(59)]},function(t,e,n){"use strict";var r=n(5),i=n(3),o=n(0),s=n(2).EventEmitter,a=n(51);function u(t,e,n){if(!u.enabled())throw new Error("Transport created when disabled");s.call(this);var o=this,c=i.addPath(t,"/websocket");c="https"===c.slice(0,5)?"wss"+c.slice(5):"ws"+c.slice(4),this.url=c,this.ws=new a(this.url,[],n),this.ws.onmessage=function(t){t.data,o.emit("message",t.data)},this.unloadRef=r.unloadAdd((function(){o.ws.close()})),this.ws.onclose=function(t){t.code,t.reason,o.emit("close",t.code,t.reason),o._cleanup()},this.ws.onerror=function(t){o.emit("close",1006,"WebSocket connection broken"),o._cleanup()}}o(u,s),u.prototype.send=function(t){var e="["+t+"]";this.ws.send(e)},u.prototype.close=function(){var t=this.ws;this._cleanup(),t&&t.close()},u.prototype._cleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},u.enabled=function(){return!!a},u.transportName="websocket",u.roundTrips=2,t.exports=u},function(t,e,n){"use strict";(function(e){e.crypto&&e.crypto.getRandomValues?t.exports.randomBytes=function(t){var n=new Uint8Array(t);return e.crypto.getRandomValues(n),n}:t.exports.randomBytes=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=Math.floor(256*Math.random());return e}}).call(this,n(1))},function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}e.stringify=function(t,e){e=e||"";var n,i,o=[];for(i in"string"!=typeof e&&(e="?"),t)if(r.call(t,i)){if((n=t[i])||null!=n&&!isNaN(n)||(n=""),i=encodeURIComponent(i),n=encodeURIComponent(n),null===i||null===n)continue;o.push(i+"="+n)}return o.length?e+o.join("&"):""},e.parse=function(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,r={};e=n.exec(t);){var o=i(e[1]),s=i(e[2]);null===o||null===s||o in r||(r[o]=s)}return r}},function(t,e,n){"use strict";(function(e){var n=e.WebSocket||e.MozWebSocket;t.exports=n?function(t){return new n(t)}:void 0}).call(this,n(1))},function(t,e,n){"use strict";(function(e){var r=n(0),i=n(7),o=n(11),s=n(12),a=n(8),u=n(9);function c(t){if(!a.enabled&&!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",o,s)}r(c,i),c.enabled=function(t){return!t.nullOrigin&&(!u.isOpera()&&s.enabled)},c.transportName="xhr-streaming",c.roundTrips=2,c.needBody=!!e.document,t.exports=c}).call(this,n(1))},function(t,e,n){"use strict";var r=n(0),i=n(2).EventEmitter;function o(t,e){i.call(this),this.sendBuffer=[],this.sender=e,this.url=t}r(o,i),o.prototype.send=function(t){this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},o.prototype.sendScheduleWait=function(){var t,e=this;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout((function(){e.sendStop=null,e.sendSchedule()}),25)},o.prototype.sendSchedule=function(){this.sendBuffer.length;var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,(function(e){t.sendStop=null,e?(t.emit("close",e.code||1006,"Sending error: "+e),t.close()):t.sendScheduleWait()})),this.sendBuffer=[]}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},t.exports=o},function(t,e,n){"use strict";var r=n(0),i=n(2).EventEmitter;function o(t,e,n){i.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=n,this._scheduleReceiver()}r(o,i),o.prototype._scheduleReceiver=function(){var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",(function(e){t.emit("message",e)})),e.once("close",(function(n,r){t.pollIsClosing,t.poll=e=null,t.pollIsClosing||("network"===r?t._scheduleReceiver():(t.emit("close",n||1006,r),t.removeAllListeners()))}))},o.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},t.exports=o},function(t,e,n){"use strict";var r=n(0),i=n(2).EventEmitter,o=n(26);function s(t){i.call(this);var e=this,n=this.es=new o(t);n.onmessage=function(t){t.data,e.emit("message",decodeURI(t.data))},n.onerror=function(t){n.readyState;var r=2!==n.readyState?"network":"permanent";e._cleanup(),e._close(r)}}r(s,i),s.prototype.abort=function(){this._cleanup(),this._close("user")},s.prototype._cleanup=function(){var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},s.prototype._close=function(t){var e=this;setTimeout((function(){e.emit("close",null,t),e.removeAllListeners()}),200)},t.exports=s},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";(function(e){var r=n(0),i=n(10),o=n(3),s=n(2).EventEmitter,a=n(6);function u(t){s.call(this);var n=this;i.polluteGlobalNamespace(),this.id="a"+a.string(6),t=o.addQuery(t,"c="+decodeURIComponent(i.WPrefix+"."+this.id)),u.htmlfileEnabled;var r=u.htmlfileEnabled?i.createHtmlfile:i.createIframe;e[i.WPrefix][this.id]={start:function(){n.iframeObj.loaded()},message:function(t){n.emit("message",t)},stop:function(){n._cleanup(),n._close("network")}},this.iframeObj=r(t,(function(){n._cleanup(),n._close("permanent")}))}r(u,s),u.prototype.abort=function(){this._cleanup(),this._close("user")},u.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete e[i.WPrefix][this.id]},u.prototype._close=function(t){this.emit("close",null,t),this.removeAllListeners()},u.htmlfileEnabled=!1;var c=["Active"].concat("Object").join("X");if(c in e)try{u.htmlfileEnabled=!!new e[c]("htmlfile")}catch(t){}u.enabled=u.htmlfileEnabled||i.iframeEnabled,t.exports=u}).call(this,n(1))},function(t,e,n){"use strict";var r=n(0),i=n(7),o=n(24),s=n(11),a=n(13);function u(t){if(!a.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",s,a)}r(u,i),u.enabled=o.enabled,u.transportName="xdr-polling",u.roundTrips=2,t.exports=u},function(t,e,n){"use strict";(function(e){var r=n(0),i=n(22),o=n(60),s=n(61);function a(t){if(!a.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/jsonp",s,o)}r(a,i),a.enabled=function(){return!!e.document},a.transportName="jsonp-polling",a.roundTrips=1,a.needBody=!0,t.exports=a}).call(this,n(1))},function(t,e,n){"use strict";(function(e){var r=n(10),i=n(6),o=n(9),s=n(3),a=n(0),u=n(2).EventEmitter;function c(t){var n=this;u.call(this),r.polluteGlobalNamespace(),this.id="a"+i.string(6);var o=s.addQuery(t,"c="+encodeURIComponent(r.WPrefix+"."+this.id));e[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(o),this.timeoutId=setTimeout((function(){n._abort(new Error("JSONP script loaded abnormally (timeout)"))}),c.timeout)}a(c,u),c.prototype.abort=function(){if(e[r.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}},c.timeout=35e3,c.scriptErrorTimeout=1e3,c.prototype._callback=function(t){this._cleanup(),this.aborting||(t&&this.emit("message",t),this.emit("close",null,"network"),this.removeAllListeners())},c.prototype._abort=function(t){this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},c.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete e[r.WPrefix][this.id]},c.prototype._scriptError=function(){var t=this;this.errorTimer||(this.errorTimer=setTimeout((function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))}),c.scriptErrorTimeout))},c.prototype._createScript=function(t){var n,r=this,s=this.script=e.document.createElement("script");if(s.id="a"+i.string(8),s.src=t,s.type="text/javascript",s.charset="UTF-8",s.onerror=this._scriptError.bind(this),s.onload=function(){r._abort(new Error("JSONP script loaded abnormally (onload)"))},s.onreadystatechange=function(){if(s.readyState,/loaded|closed/.test(s.readyState)){if(s&&s.htmlFor&&s.onclick){r.loadedOkay=!0;try{s.onclick()}catch(t){}}s&&r._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===s.async&&e.document.attachEvent)if(o.isOpera())(n=this.script2=e.document.createElement("script")).text="try{var a = document.getElementById('"+s.id+"'); if(a)a.onerror();}catch(x){};",s.async=n.async=!1;else{try{s.htmlFor=s.id,s.event="onclick"}catch(t){}s.async=!0}void 0!==s.async&&(s.async=!0);var a=e.document.getElementsByTagName("head")[0];a.insertBefore(s,a.firstChild),n&&a.insertBefore(n,a.firstChild)},t.exports=c}).call(this,n(1))},function(t,e,n){"use strict";(function(e){var r,i,o=n(6),s=n(3);t.exports=function(t,n,a){r||((r=e.document.createElement("form")).style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",(i=e.document.createElement("textarea")).name="d",r.appendChild(i),e.document.body.appendChild(r));var u="a"+o.string(8);r.target=u,r.action=s.addQuery(s.addPath(t,"/jsonp_send"),"i="+u);var c=function(t){try{return e.document.createElement('<iframe name="'+t+'">')}catch(r){var n=e.document.createElement("iframe");return n.name=t,n}}(u);c.id=u,c.style.display="none",r.appendChild(c);try{i.value=n}catch(t){}r.submit();var h=function(t){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,setTimeout((function(){c.parentNode.removeChild(c),c=null}),500),i.value="",a(t))};return c.onerror=function(){h()},c.onload=function(){h()},c.onreadystatechange=function(t){c.readyState,"complete"===c.readyState&&h()},function(){h(new Error("Aborted"))}}}).call(this,n(1))},function(t,e,n){"use strict";(function(e){n(63);var r,i=n(20),o=n(0),s=n(4),a=n(6),u=n(64),c=n(3),h=n(5),l=n(65),f=n(15),p=n(9),d=n(66),m=n(16),y=n(21),g=n(32),v=n(67),b=n(68),w=n(69);function _(t,e,n){if(!(this instanceof _))return new _(t,e,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");y.call(this),this.readyState=_.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&d.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if("function"==typeof r)this._generateSessionId=r;else{if("number"!=typeof r)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return a.string(r)}}this._server=n.server||a.numberString(1e3);var o=new i(t);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var s="https:"===o.protocol;if("https:"===g.protocol&&!s)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var u=e.sort();u.forEach((function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<u.length-1&&t===u[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")}));var h=c.getOrigin(g.href);this._origin=h?h.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,this.url,this._urlInfo={nullOrigin:!p.hasDomain(),sameOrigin:c.isOriginEqual(this.url,g.href),sameScheme:c.isSchemeEqual(this.url,g.href)},this._ir=new w(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function E(t){return 1e3===t||t>=3e3&&t<=4999}o(_,y),_.prototype.close=function(t,e){if(t&&!E(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==_.CLOSING&&this.readyState!==_.CLOSED){this._close(t||1e3,e||"Normal closure",!0)}},_.prototype.send=function(t){if("string"!=typeof t&&(t=""+t),this.readyState===_.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===_.OPEN&&this._transport.send(u.quote(t))},_.version=n(29),_.CONNECTING=0,_.OPEN=1,_.CLOSING=2,_.CLOSED=3,_.prototype._receiveInfo=function(t,e){if(this._ir=null,t){this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=f.extend(t,this._urlInfo);var n=r.filterToEnabled(this._transportsWhitelist,t);this._transports=n.main,this._transports.length,this._connect()}else this._close(1002,"Cannot connect to server")},_.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(t.transportName,t.needBody&&(!e.document.body||void 0!==e.document.readyState&&"complete"!==e.document.readyState&&"interactive"!==e.document.readyState))return this._transports.unshift(t),void h.attachEvent("load",this._connect.bind(this));var n=Math.max(this._timeout,this._rto*t.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),n);var r=c.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=this._transportOptions[t.transportName],o=new t(r,this._transUrl,i);return o.on("message",this._transportMessage.bind(this)),o.once("close",this._transportClose.bind(this)),o.transportName=t.transportName,void(this._transport=o)}this._close(2e3,"All transports failed",!1)},_.prototype._transportTimeout=function(){this.readyState===_.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},_.prototype._transportMessage=function(t){var e,n=this,r=t.slice(0,1),i=t.slice(1);switch(r){case"o":return void this._open();case"h":return this.dispatchEvent(new m("heartbeat")),void this.transport}if(i)try{e=s.parse(i)}catch(t){}if(void 0!==e)switch(r){case"a":Array.isArray(e)&&e.forEach((function(t){n.transport,n.dispatchEvent(new b(t))}));break;case"m":this.transport,this.dispatchEvent(new b(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0)}},_.prototype._transportClose=function(t,e){this.transport,this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),E(t)||2e3===t||this.readyState!==_.CONNECTING?this._close(t,e):this._connect()},_.prototype._open=function(){this._transport&&this._transport.transportName,this.readyState,this.readyState===_.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=_.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new m("open")),this.transport):this._close(1006,"Server lost session")},_.prototype._close=function(t,e,n){this.transport,this.readyState;var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===_.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=_.CLOSING,setTimeout(function(){this.readyState=_.CLOSED,r&&this.dispatchEvent(new m("error"));var i=new v("close");i.wasClean=n||!1,i.code=t||1e3,i.reason=e,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},_.prototype.countRTO=function(t){return t>100?4*t:300+t},t.exports=function(t){return r=l(t),n(72)(_,t),_}}).call(this,n(1))},function(t,e,n){"use strict";var r,i=Array.prototype,o=Object.prototype,s=Function.prototype,a=String.prototype,u=i.slice,c=o.toString,h=function(t){return"[object Function]"===o.toString.call(t)},l=function(t){return"[object String]"===c.call(t)},f=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();r=f?function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,r){!r&&e in t||(t[e]=n)};var p=function(t,e,n){for(var i in e)o.hasOwnProperty.call(e,i)&&r(t,i,e[i],n)},d=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)};function m(t){var e=+t;return e!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function y(){}p(s,{bind:function(t){var e=this;if(!h(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n=u.call(arguments,1),r=function(){if(this instanceof a){var r=e.apply(this,n.concat(u.call(arguments)));return Object(r)===r?r:this}return e.apply(t,n.concat(u.call(arguments)))},i=Math.max(0,e.length-n.length),o=[],s=0;s<i;s++)o.push("$"+s);var a=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(r);return e.prototype&&(y.prototype=e.prototype,a.prototype=new y,y.prototype=null),a}}),p(Array,{isArray:function(t){return"[object Array]"===c.call(t)}});var g,v,b,w=Object("a"),_="a"!==w[0]||!(0 in w);p(i,{forEach:function(t){var e=d(this),n=_&&l(this)?this.split(""):e,r=arguments[1],i=-1,o=n.length>>>0;if(!h(t))throw new TypeError;for(;++i<o;)i in n&&t.call(r,n[i],i,e)}},(g=i.forEach,v=!0,b=!0,g&&(g.call("foo",(function(t,e,n){"object"!=typeof n&&(v=!1)})),g.call([1],(function(){b="string"==typeof this}),"x")),!(g&&v&&b)));var E=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);p(i,{indexOf:function(t){var e=_&&l(this)?this.split(""):d(this),n=e.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=m(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in e&&e[r]===t)return r;return-1}},E);var O,S=a.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(O=void 0===/()??/.exec("")[1],a.split=function(t,e){var n=this;if(void 0===t&&0===e)return[];if("[object RegExp]"!==c.call(t))return S.call(this,t,e);var r,o,s,a,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),l=0;for(t=new RegExp(t.source,h+"g"),n+="",O||(r=new RegExp("^"+t.source+"$(?!\\s)",h)),e=void 0===e?-1>>>0:e>>>0;(o=t.exec(n))&&!((s=o.index+o[0].length)>l&&(u.push(n.slice(l,o.index)),!O&&o.length>1&&o[0].replace(r,(function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(o[t]=void 0)})),o.length>1&&o.index<n.length&&i.push.apply(u,o.slice(1)),a=o[0].length,l=s,u.length>=e));)t.lastIndex===o.index&&t.lastIndex++;return l===n.length?!a&&t.test("")||u.push(""):u.push(n.slice(l)),u.length>e?u.slice(0,e):u}):"0".split(void 0,0).length&&(a.split=function(t,e){return void 0===t&&0===e?[]:S.call(this,t,e)});var x=a.substr,T="".substr&&"b"!=="0b".substr(-1);p(a,{substr:function(t,e){return x.call(this,t<0&&(t=this.length+t)<0?0:t,e)}},T)},function(t,e,n){"use strict";var r,i=n(4),o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;t.exports={quote:function(t){var e=i.stringify(t);return o.lastIndex=0,o.test(e)?(r||(r=function(t){var e,n={},r=[];for(e=0;e<65536;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,(function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""})),t.lastIndex=0,n}(o)),e.replace(o,(function(t){return r[t]}))):e}}},function(t,e,n){"use strict";t.exports=function(t){return{filterToEnabled:function(e,n){var r={main:[],facade:[]};return e?"string"==typeof e&&(e=[e]):e=[],t.forEach((function(t){t&&("websocket"===t.transportName&&!1===n.websocket||(e.length&&-1===e.indexOf(t.transportName)?t.transportName:t.enabled(n)?(t.transportName,r.main.push(t),t.facadeTransport&&r.facade.push(t.facadeTransport)):t.transportName))})),r}}}},function(t,e,n){"use strict";(function(e){var n={};["log","debug","warn"].forEach((function(t){var r;try{r=e.console&&e.console[t]&&e.console[t].apply}catch(t){}n[t]=r?function(){return e.console[t].apply(e.console,arguments)}:"log"===t?function(){}:n.log})),t.exports=n}).call(this,n(1))},function(t,e,n){"use strict";var r=n(0),i=n(16);function o(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}r(o,i),t.exports=o},function(t,e,n){"use strict";var r=n(0),i=n(16);function o(t){i.call(this),this.initEvent("message",!1,!1),this.data=t}r(o,i),t.exports=o},function(t,e,n){"use strict";var r=n(2).EventEmitter,i=n(0),o=n(3),s=n(13),a=n(12),u=n(8),c=n(70),h=n(71),l=n(34);function f(t,e){var n=this;r.call(this),setTimeout((function(){n.doXhr(t,e)}),0)}i(f,r),f._getReceiver=function(t,e,n){return n.sameOrigin?new l(e,u):a.enabled?new l(e,a):s.enabled&&n.sameScheme?new l(e,s):h.enabled()?new h(t,e):new l(e,c)},f.prototype.doXhr=function(t,e){var n=this,r=o.addPath(t,"/info");this.xo=f._getReceiver(t,r,e),this.timeoutRef=setTimeout((function(){n._cleanup(!1),n.emit("finish")}),f.timeout),this.xo.once("finish",(function(t,e){n._cleanup(!0),n.emit("finish",t,e)}))},f.prototype._cleanup=function(t){clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},f.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},f.timeout=8e3,t.exports=f},function(t,e,n){"use strict";var r=n(2).EventEmitter;function i(){var t=this;r.call(this),this.to=setTimeout((function(){t.emit("finish",200,"{}")}),i.timeout)}n(0)(i,r),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,t.exports=i},function(t,e,n){"use strict";(function(e){var r=n(2).EventEmitter,i=n(0),o=n(4),s=n(5),a=n(27),u=n(33);function c(t,n){var i=this;r.call(this);var c=function(){var e=i.ifr=new a(u.transportName,n,t);e.once("message",(function(t){if(t){var e;try{e=o.parse(t)}catch(t){return i.emit("finish"),void i.close()}var n=e[0],r=e[1];i.emit("finish",n,r)}i.close()})),e.once("close",(function(){i.emit("finish"),i.close()}))};e.document.body?c():s.attachEvent("load",c)}i(c,r),c.enabled=function(){return a.enabled()},c.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},t.exports=c}).call(this,n(1))},function(t,e,n){"use strict";var r=n(3),i=n(5),o=n(4),s=n(73),a=n(33),u=n(10),c=n(32);t.exports=function(t,e){var n,h={};e.forEach((function(t){t.facadeTransport&&(h[t.facadeTransport.transportName]=t.facadeTransport)})),h[a.transportName]=a,t.bootstrap_iframe=function(){var e;u.currentWindowId=c.hash.slice(1);i.attachEvent("message",(function(i){if(i.source===parent&&(void 0===n&&(n=i.origin),i.origin===n)){var a;try{a=o.parse(i.data)}catch(t){return void i.data}if(a.windowId===u.currentWindowId)switch(a.type){case"s":var l;try{l=o.parse(a.data)}catch(t){a.data;break}var f=l[0],p=l[1],d=l[2],m=l[3];if(f!==t.version)throw new Error('Incompatible SockJS! Main site uses: "'+f+'", the iframe: "'+t.version+'".');if(!r.isOriginEqual(d,c.href)||!r.isOriginEqual(m,c.href))throw new Error("Can't connect to different domain from within an iframe. ("+c.href+", "+d+", "+m+")");e=new s(new h[p](d,m));break;case"m":e._send(a.data);break;case"c":e&&e._close(),e=null}}})),u.postMessage("s")}}},function(t,e,n){"use strict";var r=n(4),i=n(10);function o(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}o.prototype._transportClose=function(t,e){i.postMessage("c",r.stringify([t,e]))},o.prototype._transportMessage=function(t){i.postMessage("t",t)},o.prototype._send=function(t){this._transport.send(t)},o.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},t.exports=o},function(t,e){e.connect=function(t){return{}}},function(t,e){const n=["A","B","C","D","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r=n.length;t.exports={next:()=>`${n[Math.floor(Math.random()*r)]}${Date.now()}`}},function(t,e){t.exports={fromSeed:function(){return"Empty key"}}},function(t,e){t.exports={readFileSync:function(t){return"File returned empty contents"}}},function(t,e,n){"use strict";var r=n(79),i=n(80);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=b(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(c),l=["%","/","?",";","#"].concat(h),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(81);function b(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",c=t.split(a);c[0]=c[0].replace(/\\/g,"/");var b=t=c.join(a);if(b=b.trim(),!n&&1===t.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=s.exec(b);if(_){var E=(_=_[0]).toLowerCase();this.protocol=E,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===b.substr(0,2);!O||_&&y[_]||(b=b.substr(2),this.slashes=!0)}if(!y[_]&&(O||_&&!g[_])){for(var S,x,T=-1,C=0;C<f.length;C++){-1!==(N=b.indexOf(f[C]))&&(-1===T||N<T)&&(T=N)}-1!==(x=-1===T?b.lastIndexOf("@"):b.lastIndexOf("@",T))&&(S=b.slice(0,x),b=b.slice(x+1),this.auth=decodeURIComponent(S)),T=-1;for(C=0;C<l.length;C++){var N;-1!==(N=b.indexOf(l[C]))&&(-1===T||N<T)&&(T=N)}-1===T&&(T=b.length),this.host=b.slice(0,T),b=b.slice(T),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var R=this.hostname.split(/\./),I=(C=0,R.length);C<I;C++){var j=R[C];if(j&&!j.match(p)){for(var P="",k=0,U=j.length;k<U;k++)j.charCodeAt(k)>127?P+="x":P+=j[k];if(!P.match(p)){var L=R.slice(0,C),D=R.slice(C+1),B=j.match(d);B&&(L.push(B[1]),D.unshift(B[2])),D.length&&(b="/"+D.join(".")+b),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var M=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+M,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[E])for(C=0,I=h.length;C<I;C++){var z=h[C];if(-1!==b.indexOf(z)){var J=encodeURIComponent(z);J===z&&(J=escape(z)),b=b.split(z).join(J)}}var F=b.indexOf("#");-1!==F&&(this.hash=b.substr(F),b=b.slice(0,F));var H=b.indexOf("?");if(-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),e&&(this.query=v.parse(this.query)),b=b.slice(0,H)):e&&(this.search="",this.query={}),b&&(this.pathname=b),g[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){M=this.pathname||"";var Y=this.search||"";this.path=M+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=v.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var h=u[c];"protocol"!==h&&(n[h]=t[h])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!g[t.protocol]){for(var l=Object.keys(t),f=0;f<l.length;f++){var p=l[f];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||y[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=w||b||n.host&&t.pathname,E=_,O=n.pathname&&n.pathname.split("/")||[],S=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===O[0]?O[0]=n.host:O.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),_=_&&(""===d[0]||""===O[0])),w)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,O=d;else if(d.length)O||(O=[]),O.pop(),O=O.concat(d),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(S)n.hostname=n.host=O.shift(),(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift());return n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!O.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=O.slice(-1)[0],T=(n.host||t.host||O.length>1)&&("."===x||".."===x)||""===x,C=0,N=O.length;N>=0;N--)"."===(x=O[N])?O.splice(N,1):".."===x?(O.splice(N,1),C++):C&&(O.splice(N,1),C--);if(!_&&!E)for(;C--;C)O.unshift("..");!_||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),T&&"/"!==O.join("/").substr(-1)&&O.push("");var A,R=""===O[0]||O[0]&&"/"===O[0].charAt(0);S&&(n.hostname=n.host=R?"":O.length?O.shift():"",(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift()));return(_=_||n.host&&O.length)&&!R&&O.unshift(""),O.length?n.pathname=O.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){(function(t,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,c=/^xn--/,h=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function m(t){throw new RangeError(f[t])}function y(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function g(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+y((t=t.replace(l,".")).split("."),e).join(".")}function v(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function b(t){return y(t,(function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=d(t)})).join("")}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function _(t,e,n){var r=0;for(t=n?p(t/700):t>>1,t+=p(t/e);t>455;r+=36)t=p(t/35);return p(r+36*t/(t+38))}function E(t){var e,n,r,i,o,s,a,c,h,l,f,d=[],y=t.length,g=0,v=128,w=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&m("not-basic"),d.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<y;){for(o=g,s=1,a=36;i>=y&&m("invalid-input"),((c=(f=t.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||c>p((u-g)/s))&&m("overflow"),g+=c*s,!(c<(h=a<=w?1:a>=w+26?26:a-w));a+=36)s>p(u/(l=36-h))&&m("overflow"),s*=l;w=_(g-o,e=d.length+1,0==o),p(g/e)>u-v&&m("overflow"),v+=p(g/e),g%=e,d.splice(g++,0,v)}return b(d)}function O(t){var e,n,r,i,o,s,a,c,h,l,f,y,g,b,E,O=[];for(y=(t=v(t)).length,e=128,n=0,o=72,s=0;s<y;++s)(f=t[s])<128&&O.push(d(f));for(r=i=O.length,i&&O.push("-");r<y;){for(a=u,s=0;s<y;++s)(f=t[s])>=e&&f<a&&(a=f);for(a-e>p((u-n)/(g=r+1))&&m("overflow"),n+=(a-e)*g,e=a,s=0;s<y;++s)if((f=t[s])<e&&++n>u&&m("overflow"),f==e){for(c=n,h=36;!(c<(l=h<=o?1:h>=o+26?26:h-o));h+=36)E=c-l,b=36-l,O.push(d(w(l+E%b,0))),c=p(E/b);O.push(d(w(c,0))),o=_(n,g,r==i),n=0,++r}++n,++e}return O.join("")}a={version:"1.4.1",ucs2:{decode:v,encode:b},decode:E,encode:O,toASCII:function(t){return g(t,(function(t){return h.test(t)?"xn--"+O(t):t}))},toUnicode:function(t){return g(t,(function(t){return c.test(t)?E(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return a}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(28)(t),n(1))},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(82),e.encode=e.stringify=n(83)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var h=0;h<c;++h){var l,f,p,d,m=t[h].replace(a,"%20"),y=m.indexOf(n);y>=0?(l=m.substr(0,y),f=m.substr(y+1)):(l=m,f=""),p=decodeURIComponent(l),d=decodeURIComponent(f),r(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),(function(s){var a=encodeURIComponent(r(s))+n;return i(t[s])?o(t[s],(function(t){return a+encodeURIComponent(r(t))})).join(e):a+encodeURIComponent(r(t[s]))})).join(e):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}}])}));